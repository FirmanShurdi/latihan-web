{"version":3,"sources":["products.js"],"names":["express","require","router","Router","axios","get","req","res","response","render","title","products","data","console","error","message","status","send","id","params","product","put","body","price","description","log","redirect","module","exports"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAMC,KAAK,GAAGH,OAAO,CAAC,OAAD,CAArB,C,CAEA;;;AACAC,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEaH,KAAK,CAACC,GAAN,CAAU,gCAAV,CAFb;;AAAA;AAEJG,UAAAA,QAFI;AAGVD,UAAAA,GAAG,CAACE,MAAJ,CAAW,UAAX,EAAuB;AACrBC,YAAAA,KAAK,EAAE,eADc;AAErBC,YAAAA,QAAQ,EAAEH,QAAQ,CAACI,IAAT,CAAcD;AAFH,WAAvB;AAHU;AAAA;;AAAA;AAAA;AAAA;AAQVE,UAAAA,OAAO,CAACC,KAAR,CAAc,0BAAd,EAA0C,YAAMC,OAAhD;AACAR,UAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,yBAArB;;AATU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAhB,E,CAaE;;AACAf,MAAM,CAACG,GAAP,CAAW,MAAX,EAAmB,kBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACTW,UAAAA,EADS,GACFZ,GAAG,CAACa,MADF,CACTD,EADS;AAAA;AAAA;AAAA,0CAGQd,KAAK,CAACC,GAAN,0CAA4Ca,EAA5C,EAHR;;AAAA;AAGTV,UAAAA,QAHS;AAIfD,UAAAA,GAAG,CAACE,MAAJ,CAAW,gBAAX,EAA6B;AAC3BC,YAAAA,KAAK,EAAE,gBADoB;AAE3BU,YAAAA,OAAO,EAAEZ,QAAQ,CAACI;AAFS,WAA7B;AAJe;AAAA;;AAAA;AAAA;AAAA;AASfC,UAAAA,OAAO,CAACC,KAAR,qCAA2CI,EAA3C,QAAkD,aAAMH,OAAxD;AACAR,UAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,+BAArB;;AAVe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;AAcAf,MAAM,CAACmB,GAAP,CAAW,MAAX,EAAmB,kBAAef,GAAf,EAAoBC,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AACbW,UAAAA,EADa,GACRZ,GAAG,CAACa,MAAJ,CAAWD,EADH;AAEbR,UAAAA,KAFa,GAELJ,GAAG,CAACgB,IAAJ,CAASZ,KAFJ;AAGba,UAAAA,KAHa,GAGLjB,GAAG,CAACgB,IAAJ,CAASC,KAHJ;AAIbC,UAAAA,WAJa,GAIClB,GAAG,CAACgB,IAAJ,CAASE,WAJV;AAAA;AAAA;AAAA,0CAOMpB,KAAK,CAACiB,GAAN,CAAU,oCAAoCH,EAA9C,EAAkD;AACrER,YAAAA,KAAK,EAAEA,KAD8D;AAErEa,YAAAA,KAAK,EAAEA,KAF8D;AAGrEC,YAAAA,WAAW,EAAEA;AAHwD,WAAlD,CAPN;;AAAA;AAOXhB,UAAAA,QAPW;AAafK,UAAAA,OAAO,CAACY,GAAR,CAAY,2BAAZ,EAAyCjB,QAAQ,CAACI,IAAlD;AACAL,UAAAA,GAAG,CAACmB,QAAJ,CAAa,eAAeR,EAA5B;AAde;AAAA;;AAAA;AAAA;AAAA;AAgBfL,UAAAA,OAAO,CAACC,KAAR,CAAc,sBAAd;AACAP,UAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,uCAArB;;AAjBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;AAqBAU,MAAM,CAACC,OAAP,GAAiB1B,MAAjB","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst axios = require('axios');\r\n\r\n// GET: Menampilkan semua produk\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n      const response = await axios.get('https://dummyjson.com/products');\r\n      res.render('products', { \r\n        title: 'List Products', \r\n        products: response.data.products \r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error.message);\r\n      res.status(500).send('Error fetching products');\r\n    }\r\n  });\r\n  \r\n  // GET: Menampilkan detail produk berdasarkan ID\r\n  router.get('/:id', async (req, res) => {\r\n    const { id } = req.params;\r\n    try {\r\n      const response = await axios.get(`https://dummyjson.com/products/${id}`);\r\n      res.render('product-detail', { \r\n        title: 'Product Detail', \r\n        product: response.data \r\n      });\r\n    } catch (error) {\r\n      console.error(`Error fetching product ID ${id}:`, error.message);\r\n      res.status(500).send('Error fetching product detail');\r\n    }\r\n  });\r\n  \r\n  router.put('/:id', async function(req, res) {\r\n    var id = req.params.id;\r\n    var title = req.body.title;\r\n    var price = req.body.price;\r\n    var description = req.body.description;\r\n  \r\n    try {\r\n      var response = await axios.put('https://dummyjson.com/products/' + id, {\r\n        title: title,\r\n        price: price,\r\n        description: description\r\n      });\r\n  \r\n      console.log('Produk berhasil diupdate:', response.data);\r\n      res.redirect('/products/' + id);\r\n    } catch (error) {\r\n      console.error('Gagal update produk:', error);\r\n      res.status(500).send('Terjadi kesalahan saat update produk.');\r\n    }\r\n  });\r\n  \r\n  module.exports = router;\r\n"],"file":"products.dev.js"}