{"version":3,"sources":["products.js"],"names":["express","require","router","Router","get","req","res","response","regeneratorRuntime","async","_context","prev","next","awrap","axios","sent","render","products","data","t0","console","error","message","status","send","stop","id","_context2","params","concat","title","product","put","price","description","_context3","body","log","redirect"],"mappings":"aAAA,IAAMA,QAAUC,QAAQ,WAClBC,OAASF,QAAQG,SADjBH,MAAUC,QAAQ,SAKxBC,OAAOE,IAAI,IAAK,SAAOC,EAAKC,GAAZ,IAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAAAJ,mBAAAK,MAEaC,MAAMV,IAAI,mCAFvB,KAAA,EAEJG,EAFIG,EAAAK,KAGVT,EAAIU,OAAO,WAAY,CAHtBZ,MAAP,gBAAgBa,SAAAV,EAAAW,KAAAD,WAAAP,EAAAE,KAAA,GAAA,MAAA,KAAA,EAAAF,EAAAC,KAAA,EAAAD,EAAAS,GAAAT,EAAA,MAAA,GAAAU,QAAAC,MAAA,2BAAAX,EAAAS,GAAAG,SAAAhB,EAAAiB,OAAA,KAAAC,KAAA,2BAAA,KAAA,GAAA,IAAA,MAAA,OAAAd,EAAAe,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OAAAvB,OAAAE,IAAA,OAAA,SAAAC,EAAAC,GAAA,IAAAoB,EAAAnB,EAAA,OAAAC,mBAAAC,MAAA,SAAAkB,GAAA,OAAA,OAAAA,EAAAhB,KAAAgB,EAAAf,MAAA,KAAA,EAAA,OAEJL,EAFIF,EAAAuB,OAEJrB,GAFIoB,EAAAhB,KAAA,EAAAgB,EAAAf,KAAA,EAAAJ,mBAAAK,MAIDC,MADcV,IACd,kCAAAyB,OADcH,KAHb,KAAA,EAIRI,EAJQH,EAAAZ,KAKRE,EAAAA,OAAAA,iBAAU,CAFWa,MAAvB,iBAHUC,QAAAxB,EAAAW,OAAAS,EAAAf,KAAA,GAAA,MAAA,KAAA,EAAAe,EAAAhB,KAAA,EAAAgB,EAAAR,GAAAQ,EAAA,MAAA,GAAAP,QAAAC,MAAA,6BAAAQ,OAAAH,EAAA,KAAAC,EAAAR,GAAAG,SAAAhB,EAAAiB,OAAA,KAAAC,KAAA,iCAAA,KAAA,GAAA,IAAA,MAAA,OAAAG,EAAAF,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,OA4BdvB,OAAO8B,IAAI,OAAQ,SAAe3B,EAAKC,GAApB,IAAAoB,EAAAI,EAAAG,EAAAC,EAAA3B,EAAA,OAAAC,mBAAAC,MAAA,SAAA0B,GAAA,OAAA,OAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,KAAA,EAAA,OA5BLc,EAAArB,EAAAuB,OAAAF,GAAAI,EAAAzB,EAAA+B,KAAAN,MAAAG,EAAA5B,EAAA+B,KAAAH,MAAAC,EAAA7B,EAAA+B,KAAAF,YA4BKC,EAAAxB,KAAA,EAAAwB,EAAAvB,KAAA,EAAAJ,mBAAAK,MAfnBC,MAAAkB,IAAA,kCAAAN,EAAA,CAuBMI,MAAOA,EAtBN1B,MAAI6B,EAAQC,YAAAA,KAcA,KAAA,EAfnB3B,EAemB4B,EAAApB,KAdAK,QAAAiB,IAAA,4BAAA9B,EAAAW,MAAAZ,EAAAgC,SAAA,aAAAZ,GAcAS,EAAAvB,KAAA,GAAA,MAAA,KAAA,GAAAuB,EAAAxB,KAAA,GAAAwB,EAAAhB,GAAAgB,EAAA,MAAA,GAdAf,QAAAC,MAAA,uBAAAc,EAAAhB,IAAAb,EAAAiB,OAAA,KAAAC,KAAA,yCAcA,KAAA,GAAA,IAAA,MAAA,OAAAW,EAAAV,SAAA,KAAA,KAAA,CAAA,CAAA,EAAA,QAXTlB,OAAAA,QAHSL","file":"products.min.js","sourcesContent":["const express = require('express');\r\nconst router = express.Router();\r\nconst axios = require('axios');\r\n\r\n// GET: Menampilkan semua produk\r\nrouter.get('/', async (req, res) => {\r\n    try {\r\n      const response = await axios.get('https://dummyjson.com/products');\r\n      res.render('products', { \r\n        title: 'List Products', \r\n        products: response.data.products \r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error.message);\r\n      res.status(500).send('Error fetching products');\r\n    }\r\n  });\r\n  \r\n  // GET: Menampilkan detail produk berdasarkan ID\r\n  router.get('/:id', async (req, res) => {\r\n    const { id } = req.params;\r\n    try {\r\n      const response = await axios.get(`https://dummyjson.com/products/${id}`);\r\n      res.render('product-detail', { \r\n        title: 'Product Detail', \r\n        product: response.data \r\n      });\r\n    } catch (error) {\r\n      console.error(`Error fetching product ID ${id}:`, error.message);\r\n      res.status(500).send('Error fetching product detail');\r\n    }\r\n  });\r\n  \r\n  router.put('/:id', async function(req, res) {\r\n    var id = req.params.id;\r\n    var title = req.body.title;\r\n    var price = req.body.price;\r\n    var description = req.body.description;\r\n  \r\n    try {\r\n      var response = await axios.put('https://dummyjson.com/products/' + id, {\r\n        title: title,\r\n        price: price,\r\n        description: description\r\n      });\r\n  \r\n      console.log('Produk berhasil diupdate:', response.data);\r\n      res.redirect('/products/' + id);\r\n    } catch (error) {\r\n      console.error('Gagal update produk:', error);\r\n      res.status(500).send('Terjadi kesalahan saat update produk.');\r\n    }\r\n  });\r\n  \r\n  module.exports = router;\r\n"]}